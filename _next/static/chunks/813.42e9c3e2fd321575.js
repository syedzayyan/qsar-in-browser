"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[813],{6813:function(t,e,a){a.r(e),a.d(e,{default:function(){return TargetGetter}});var s=a(5893),n=a(7294),i=a(670),r=a(1315),l=a(1664),o=a.n(l);function CompoundGetter(){let[t,e]=(0,n.useState)("Ki"),[a,l]=(0,n.useState)("B"),{target:c,_:u}=(0,n.useContext)(i.Z),{ligand:h,setLigand:d}=(0,n.useContext)(r.Z),[p,m]=(0,n.useState)(!1),[x,g]=(0,n.useState)(0);async function getFullActivityData(t){m(!0);let e="https://www.ebi.ac.uk",a=[{}],s=e+t;for(;s!==e+"null";){let t=await fetch(s),n=await t.json();a.push(...n.activities),s=e+n.page_meta.next;let i=a.length/n.page_meta.total_count*100;g(i)}return a.slice(1)}return(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:(0,s.jsx)("input",{className:"input",placeholder:"Input Unit. Default is Ki",value:t,onChange:t=>e(t.target.value)})}),(0,s.jsx)("br",{}),(0,s.jsx)("label",{children:(0,s.jsx)("input",{className:"input",placeholder:"Input Assay Type. Default is Binding (B)",value:a,onChange:t=>l(t.target.value)})}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("button",{className:"button",onClick:function(){getFullActivityData("/chembl/api/data/activity?format=json&target_chembl_id=".concat(c,"&type=").concat(t,"&target_organism=Homo%20sapiens&assay_type=").concat(a,"&relation==")).then(t=>{d(t)})},children:"Download Data"}),(0,s.jsx)("br",{}),p&&(0,s.jsxs)("div",{children:[(0,s.jsx)("progress",{className:"progress-bar",value:x,max:100}),(0,s.jsx)("br",{}),(0,s.jsxs)("span",{style:{textAlign:"center"},children:[Math.min(x,100).toFixed(2)," %"]})]}),(0,s.jsx)("br",{}),h.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)(o(),{className:"button",href:"/tools/data-distribution",children:"Show The Ligand Distribution Graph"}),(0,s.jsx)(o(),{className:"button",href:"/tools/dimension-reduction/pca",children:"PCA"})]})]})}function TargetGetter(){let[t,e]=(0,n.useState)([]),{target:a,setTarget:r}=(0,n.useContext)(i.Z);return(0,n.useEffect)(()=>{let t=setTimeout(()=>{fetch("https://www.ebi.ac.uk/chembl/api/data/target/search?format=json&q=".concat(a)).then(t=>t.json()).then(t=>{e(t.targets)}).catch(t=>{console.error("Error:",t)})},100);return()=>clearTimeout(t)},[a]),(0,s.jsxs)("div",{className:"container",style:{width:"600px",height:"400px"},children:[(0,s.jsxs)("label",{children:["Choose a Target From this List ",(0,s.jsx)("br",{}),(0,s.jsx)("input",{className:"input",placeholder:"Start Typing and Things Will Come Up. Hopefully not PTSD",list:"browsers",name:"myBrowser",onChange:t=>r(t.target.value)})]}),(0,s.jsx)("datalist",{id:"browsers",children:t&&t.map(t=>(0,s.jsxs)("option",{value:t.target_chembl_id,children:[t.pref_name," || ",t.target_chembl_id," || ",t.organism]},t.target_chembl_id))}),(0,s.jsx)(CompoundGetter,{})]})}}}]);