"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[929],{3929:function(t,a,e){e.r(a),e.d(a,{default:function(){return Histogram}});var l=e(5893),n=e(7294),r=e(2358);let StatisticsCalculator=class StatisticsCalculator{static calculateMedian(t){let a=[...t].sort((t,a)=>t-a);return t.length%2==0?(a[t.length/2-1]+a[t.length/2])/2:a[Math.floor(t.length/2)]}static calculateMode(t){let a=t.reduce((t,a)=>(t[a]=(t[a]||0)+1,t),{}),e=Object.keys(a).reduce((t,e)=>a[t]>a[e]?t:e);return e}static calculateMean(t){return t.reduce((t,a)=>t+a,0)/t.length}static calculateStandardDeviation(t){let a=StatisticsCalculator.calculateMean(t),e=Math.sqrt(t.reduce((t,e)=>t+Math.pow(e-a,2),0)/t.length);return e}};var c=e(1315);let s={top:30,right:30,bottom:40,left:50};function Histogram(){let{ligand:t,_:a}=(0,n.useContext)(c.Z);console.log(t);var e=t.map(t=>t.standard_value);e=t.map(t=>-Math.log10(1e-8*t.standard_value));let i=(0,n.useRef)(null),o=1200-s.right-s.left,u=600-s.top-s.bottom,d=(0,n.useMemo)(()=>{let t=Math.max(...e),a=Math.min(...e);return r.BYU().domain([a,t]).range([0,o])},[e,o]),h=(0,n.useMemo)(()=>r.Ly_().value(t=>t).domain(d.domain()).thresholds(d.ticks(70)),[d]),g=(0,n.useMemo)(()=>h(e),[h,e]),m=(0,n.useMemo)(()=>{let t=r.Fp7(g,t=>t.length);return r.BYU().range([u,0]).domain([0,t||0]).nice()},[g,u]);return(0,n.useEffect)(()=>{let t=r.Ys(i.current);t.selectAll("*").remove();let a=r.LLu(d);t.append("g").attr("transform","translate(".concat(s.left,",").concat(600-s.bottom,")")).call(a);let e=r.y4O(m);t.append("g").attr("transform","translate(".concat(s.left,",").concat(s.top,")")).call(e),t.append("g").attr("transform","translate(".concat(s.left,",").concat(s.top,")")).selectAll("rect").data(g).join("rect").attr("x",t=>d(t.x0)+.5).attr("width",t=>Math.max(0,d(t.x1)-d(t.x0)-1)).attr("y",t=>m(t.length)).attr("height",t=>u-m(t.length)).attr("fill","#69b3a2")},[d,m,g]),(0,l.jsxs)("div",{className:"container",children:[(0,l.jsx)("svg",{width:1200,height:600,ref:i,children:(0,l.jsx)("g",{ref:i})}),(0,l.jsxs)("h3",{children:["Small Molecules: ",e.length]}),(0,l.jsx)("h3",{children:"Activity Stats"}),(0,l.jsxs)("span",{children:["Mean: ",StatisticsCalculator.calculateMean(e)]}),(0,l.jsxs)("span",{children:["Median: ",StatisticsCalculator.calculateMedian(e)]}),(0,l.jsxs)("span",{children:["Standard Deviation: ",StatisticsCalculator.calculateStandardDeviation(e)]})]})}}}]);